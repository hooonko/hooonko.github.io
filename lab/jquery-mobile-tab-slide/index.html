<!DOCTYPE html>
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.3.6/slick.css"/>
	<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
    <script src="js/lib/slick.js"/></script>
</head>

<body>

    <div data-role="page">

    	<div role="main" class="ui-content" style="padding:0;margin:0;">
			<div id="slick-tab" style="background:white;height:40px">
				<div id="slick-tracker" style="position:relative;height:5px;background:red;top:35px;display:none"></div>
			</div>
            <div id="slick" style="padding:0;margin:0;">
                <div style="background: #4390EE;text-align: center;">
            		<h1>1</h1>
            		<h1>2</h1>
					<div class="slick-carousel">
						<div>
							<h1>img 1</h1>
						</div>
						<div>
							<h1>img 2</h1>
						</div>
						<div>
							<h1>img 3</h1>
						</div>
					</div>
            		<h1>3</h1>
            		<h1>4</h1>
            		<h1>5</h1>
            		<h1>6</h1>
            		<h1>7</h1>
            		<h1>8</h1>
            		<h1>9</h1>
            		<h1>10</h1>
            		<h1>21</h1>
            		<h1>22</h1>
            		<h1>23</h1>
            		<h1>24</h1>
            		<h1>25</h1>
            		<h1>26</h1>
            		<h1>27</h1>
            		<h1>28</h1>
            		<h1>29</h1>
            		<h1>30</h1>
            		<h1>31</h1>
            		<h1>32</h1>
            		<h1>33</h1>
            		<h1>34</h1>
            		<h1>35</h1>
            		<h1>36</h1>
            		<h1>37</h1>
            		<h1>38</h1>
            		<h1>39</h1>
            		<h1>40</h1>
            		<h1>41</h1>
            		<h1>42</h1>
            		<h1>43</h1>
            		<h1>44</h1>
            		<h1>45</h1>
            		<h1>46</h1>
            		<h1>47</h1>
            		<h1>48</h1>
            		<h1>49</h1>
            		<h1>50</h1>
                </div>
                <div style="background: #CA4040;text-align:center;">
            		<h1>1</h1>
            		<h1>2</h1>
            		<h1>3</h1>
            		<h1>4</h1>
            		<h1>5</h1>
            		<h1>6</h1>
            		<h1>7</h1>
            		<h1>8</h1>
            		<h1>9</h1>
            		<h1>10</h1>
            		<h1>21</h1>
            		<h1>22</h1>
            		<h1>23</h1>
            		<h1>24</h1>
            		<h1>25</h1>
            		<h1>26</h1>
            		<h1>27</h1>
            		<h1>28</h1>
            		<h1>29</h1>
            		<h1>30</h1>
            		<h1>31</h1>
            		<h1>32</h1>
            		<h1>33</h1>
            		<h1>34</h1>
            		<h1>35</h1>
            		<h1>36</h1>
            		<h1>37</h1>
            		<h1>38</h1>
            		<h1>39</h1>
            		<h1>40</h1>
            		<h1>41</h1>
            		<h1>42</h1>
            		<h1>43</h1>
            		<h1>44</h1>
            		<h1>45</h1>
            		<h1>46</h1>
            		<h1>47</h1>
            		<h1>48</h1>
            		<h1>49</h1>
            		<h1>50</h1>
                </div>
                <div style="background: #FF8604;text-align:center;">
            		<h1>1</h1>
            		<h1>2</h1>
            		<h1>3</h1>
            		<h1>4</h1>
            		<h1>5</h1>
            		<h1>6</h1>
            		<h1>7</h1>
            		<h1>8</h1>
            		<h1>9</h1>
            		<h1>10</h1>
            		<h1>21</h1>
            		<h1>22</h1>
            		<h1>23</h1>
            		<h1>24</h1>
            		<h1>25</h1>
            		<h1>26</h1>
            		<h1>27</h1>
            		<h1>28</h1>
            		<h1>29</h1>
            		<h1>30</h1>
            		<h1>31</h1>
            		<h1>32</h1>
            		<h1>33</h1>
            		<h1>34</h1>
            		<h1>35</h1>
            		<h1>36</h1>
            		<h1>37</h1>
            		<h1>38</h1>
            		<h1>39</h1>
            		<h1>40</h1>
            		<h1>41</h1>
            		<h1>42</h1>
            		<h1>43</h1>
            		<h1>44</h1>
            		<h1>45</h1>
            		<h1>46</h1>
            		<h1>47</h1>
            		<h1>48</h1>
            		<h1>49</h1>
            		<h1>50</h1>
                </div>
            </div>
    	</div><!-- /content -->
        <script type="text/javascript">
            $(document).ready(function(){
				$('#slick > div').css('height', $(window).height());
				$('#slick > div').css('overflow-y', 'scroll');
				$('#slick > div').css('-webkit-overflow-scrolling', 'touch');
				var slickCarousel = $('.slick-carousel').slick({
					centerMode: true,
					arrows: false,
					swipeCustomCallback: function(event) {
						event.stopPropagation();
					}
				});

				var slickDataInit = function(slick) {
					if ($('#slick-tracker').css('display') === 'none') {
						$('#slick-tracker').css('width', (100/slick.slideCount) + '%');
						$('#slick-tracker').show();
					}
				}
				var slickTrackerTimer;
                var slick = $('#slick').slick({
					infinite: false,
					arrows: false,
					onInit: slickDataInit,
					onReInit: slickDataInit,
					swipeCustomCallback: function(event, _) {
						switch (event.data.action) {
						case 'start':
						case 'move':
							$('#slick-tracker').css('left', (Math.floor(((_.slideWidth * _.slideCount) - ($(_.$slideTrack[0]).position().left)) / _.slideCount) - _.slideWidth) + 'px');
							break;
						case 'end':
							slickTrackerTimer = setInterval(function() {
								$('#slick-tracker').css('left', (Math.floor(((_.slideWidth * _.slideCount) - ($(_.$slideTrack[0]).position().left)) / _.slideCount) - _.slideWidth) + 'px');
							}, 1);
							break;
						}
					},
	                onAfterChange: function(_) {
						clearInterval(slickTrackerTimer);
						slickTrackerTimer = undefined;
						$('#slick-tracker').css('left', (Math.floor(((_.slideWidth * _.slideCount) - ($(_.$slideTrack[0]).position().left)) / _.slideCount) - _.slideWidth) + 'px');
					}
				});
            });
        </script>
    </div><!-- /page -->

</body>
</html>
